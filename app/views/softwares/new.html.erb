<div class="col-sm-12 top-gap software_installation_form">
  <h3 class="control-panel-title"><%= content_tag(:i, "", class: "fa fa-plus-square") %> Install <%= @software.display_name %></h3>
  <p class="top-gap">
    <%= @software.display_description %>
  </p>

  <button type="button" class="btn btn-default btn-lg pull-right" id="new_software_form_show_advanced_fields_button">
    <%= content_tag(:i, '', class: 'fa fa-code') %> Advanced install
  </button>

  <%= form_for(@software, url: softwares_path ) do |f| %>

    <%= render partial: 'shared/form/errors', locals: {f: f} %>


    <%= f.hidden_field :gallery_url %>
    <%= f.hidden_field :software_id %>
    <%= f.hidden_field :default_image_url %>
    <%= f.hidden_field :repository_url %>
    <%= f.hidden_field :license_name %>
    <%= f.hidden_field :license_sourceurl %>

    <div class="new_software_form_default_details">
      <legend>URL</legend>
      <%= content_tag(:div, (f.object.software_network_parameters.host_name.to_s + '.' + f.object.software_network_parameters.domain_name.to_s), class: "col-sm-12") %>
    </div>

    <div class="new_software_form_advanced_fields">
      <%= render partial: 'form_fields_software_installation_properties', locals: {f: f} %>
      <%= render partial: 'form_fields_display_properties', locals: {f: f} %>
      <%= f.fields_for :software_network_parameters do |ff| %>
        <%= render partial: 'form_fields_network_properties', locals: {f: ff} %>
      <% end %>
    </div>
    
    <%= render partial: 'form_fields_runtime_properties', locals: {f: f} %>
    <%= render partial: 'form_fields_software_variables', locals: {f: f} %>

    <legend>License</legend>
    <div class="col-sm-10 col-sm-offset-2">
      <div class="form-group form-group-lg form-text-lg">
        <%= link_to f.object.license_name, f.object.license_sourceurl, target: "_blank" %> 
      </div>
    </div>
    <%= render partial: 'shared/form/checkbox', locals: {name: :terms_and_conditions_accepted, label: 'Accept', f: f} %>

    <div class="col-sm-12 actions top-gap">
      <%= link_to((content_tag(:i, "", class: "fa fa-times") + " Cancel"), installer_path, class: "btn btn-lg btn-warning trigger-response-modal") %>
      <%= button_tag(type: "submit", class: "btn btn-lg btn-primary trigger-response-modal pull-right") do %>
        <%= content_tag(:i, "", class: "fa fa-check") + " Install" %>
      <% end %>
    </div>

  <% end %>

</div>